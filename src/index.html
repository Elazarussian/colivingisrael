<!doctype html>
<html lang="he" dir="rtl">

<head>
  <meta charset="utf-8">
  <title>ColivingIsrael</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
  <app-root></app-root>
  <script>
    (function () {
      // Some laptops/browsers don't render regional flag emoji correctly.
      // Fallback strategy: if device looks like desktop, load Twemoji to replace flags with SVGs.
      // Mobile devices (phones/tablets) usually have proper color emoji support, so we skip Twemoji there.
      try {
        var ua = navigator.userAgent || '';
        var isMobile = /Mobi|Android|iPhone|iPad|iPod|Windows Phone/i.test(ua);
        if (!isMobile) {
          // Replace common flag emoji in .lang-flag spans with Twemoji CDN SVG images directly
          var mapRegional = {
            'ðŸ‡®ðŸ‡±': '1f1ee-1f1f1',
            'ðŸ‡ºðŸ‡¸': '1f1fa-1f1f8',
            'ðŸ‡·ðŸ‡º': '1f1f7-1f1fa',
            'ðŸ‡«ðŸ‡·': '1f1eb-1f1f7'
          };
          function replaceFlags() {
            var nodes = document.querySelectorAll('.lang-flag');
            nodes.forEach(function (n) {
              var txt = n.textContent.trim();
              var code = mapRegional[txt];
              if (code) {
                var src = 'https://twemoji.maxcdn.com/v/latest/svg/' + code + '.svg';
                n.innerHTML = '<img src="' + src + '" class="emoji" alt="' + txt + '"/>';
                n.style.lineHeight = '0';
              }
            });
          }
          // Run on DOM ready and also observe mutations (Angular may render later)
          function scheduleReplace() {
            try { replaceFlags(); } catch (e) { }
          }
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', scheduleReplace);
          } else {
            scheduleReplace();
          }
          // Observe DOM for added nodes matching .lang-flag
          var observer = new MutationObserver(function (muts) {
            for (var i = 0; i < muts.length; i++) {
              var m = muts[i];
              if (m.addedNodes && m.addedNodes.length) {
                for (var j = 0; j < m.addedNodes.length; j++) {
                  var node = m.addedNodes[j];
                  if (node.nodeType === 1) {
                    if (node.matches && node.matches('.lang-flag')) { scheduleReplace(); return; }
                    if (node.querySelector && node.querySelector('.lang-flag')) { scheduleReplace(); return; }
                  }
                }
              }
            }
          });
          observer.observe(document.documentElement || document.body, { childList: true, subtree: true });
        }
      } catch (e) {
        // silent
      }
    })();
  </script>
</body>

</html>